---
title: ""
author: Laraib Azmat
date: June 06, 2024
format: html
---

```{r library read in}
library(tidyverse)
library(readr)
library(readxl)
```

```{r}
edu_data <- read_csv("./data/EDU01a.csv")
spec(edu_data)
```
```{r}
edu_edit <- edu_data |>
  select(Area_name, STCOU, ends_with("D")) |>
  print()|>
  pivot_longer(cols = 3:12, 
               values_to = "enlorment")
```
```{r}
edu_edit <- edu_edit |>
  mutate( year = case_when(
    name == "EDU010187D" ~ 1987, 
    name == "EDU010188D" ~ 1988, 
    name == "EDU010189D" ~ 1989, 
    name == "EDU010190D" ~ 1990, 
    name == "EDU010191D" ~ 1991, 
    name == "EDU010192D" ~ 1992, 
    name == "EDU010193D" ~ 1993, 
    name == "EDU010194D" ~ 1994, 
    name == "EDU010195D" ~ 1995, 
    name == "EDU010196D" ~ 1996
  )) |>
  mutate(measurement = substr(edu_edit$name, 1, 7))
```

```{r}
edu_county <- subset(edu_edit, grepl(pattern = ", \\w\\w", edu_edit$Area_name))

edu_county <- edu_county |>
  mutate(state = str_extract(edu_county$Area_name, " \\w\\w"))
class(edu_county) <- c("county", class(edu_county))

edu_county
```



```{r}
edu_state <- subset(edu_edit, !(grepl(pattern = ", \\w\\w", edu_edit$Area_name)))

edu_state$Area_name <- str_to_title(edu_state$Area_name)

edu_state$region <- setNames(state.region, state.name)[edu_state$Area_name]



edu_state
```
